## 1. 项目简介

`易对接后台PRO` 是一个基于 PHP 开发的开源后台管理系统，旨在为移动应用程序（特别是 iApp）提供强大的远程数据支持和管理功能。该项目结构清晰，功能模块丰富，涵盖了用户管理、卡密系统、互动功能、文件托管以及支付集成等多个方面，为开发者提供了一套完整的后端解决方案。

## 2. 功能特性

该后台系统提供了以下核心功能模块：

### 2.1 用户与权限管理
- **用户系统**：支持用户注册、登录、信息管理。
- **卡密系统**：生成、管理和使用卡密，可用于兑换会员或余额。
- **会员系统**：VIP 等级管理，提供不同等级的特权。
- **余额系统**：用户账户余额管理。
- **用户封禁**：对违规用户进行封禁操作。

### 2.2 互动与社区功能
- **论坛系统**：提供社区交流平台。
- **聊天系统**：支持用户之间的实时聊天。
- **私聊系统**：用户间一对一私密交流。
- **抽奖系统**：集成抽奖活动功能。
- **钓鱼系统**：特定功能模块，具体用途待进一步分析。
- **投票系统**：创建和管理投票活动。
- **反馈系统**：收集用户反馈和建议。

### 2.3 管理与维护
- **远程更新**：支持应用程序的远程更新。
- **应用托管**：提供应用文件的托管服务。
- **客服系统**：用户与客服沟通的渠道。
- **维护系统**：系统维护模式的开启与关闭。
- **文件托管**：管理和存储用户上传的文件。
- **审核列表**：对用户提交的内容进行审核。

### 2.4 支付与集成
- **公共 API**：提供对外接口，方便第三方集成。
- **兑换系统**：支持积分或虚拟物品兑换。
- **商城系统**：商品展示与交易功能。
- **支付集成**：集成了易支付（epay）等第三方支付接口，支持卡密生成和余额充值。

## 3. 技术栈

- **后端语言**：PHP 7.1 及以上版本。
- **数据库**：MySQL。
- **Web 服务器**：兼容 Apache/Nginx，需配置伪静态。

## 4. 目录结构

项目根目录下的主要文件和目录说明如下：

| 目录/文件 | 说明 |
| :--- | :--- |
| `admin/` | 后台管理界面的核心文件和逻辑，包含 API、公告、轮播图等设置。 |
| `app/` | 移动应用相关文件，可能包含 APK 文件或应用配置。 |
| `chat/` | 聊天系统相关文件。 |
| `docking/` | 对接相关功能文件。 |
| `file/` | 文件管理和托管功能文件。 |
| `gm/` | 游戏管理或其他通用模块。 |
| `img/` | 项目中使用的图片资源，如图标、背景图等。 |
| `interact/` | 互动功能相关文件。 |
| `iyu/` | 包含大量 `.iyu` 后缀的文件，推测与 iApp 应用的特定开发或配置相关。 |
| `lib/` | 存放项目依赖的公共库文件，例如 `epay_core.function.php`、`epay_submit.class.php` 等支付相关类库。 |
| `lzy/` | 特定功能模块，包含 `lz.php`。 |
| `moneyo/` | 余额相关功能。 |
| `onlines/` | 在线用户或在线功能相关。 |
| `ranBox/` | 随机箱或抽奖箱功能。 |
| `userfrozen/` | 用户冻结功能。 |
| `userss/` | 用户相关功能，包含 `appdoc` 子目录。 |
| `Web/` | Web 前端相关文件。 |
| `搭建教程/` | 包含数据库脚本 `appdoc.sql`、伪静态配置 `伪静态.txt`、搭建教程 `搭建教程.txt` 和管理文档 `管理文档.txt`。 |
| `.htaccess` | Apache 服务器的配置文件，用于 URL 重写等。 |
| `404-2.html`, `404-3.html`, `404.html` | 自定义 404 错误页面。 |
| `index.php`, `index.html` | 项目入口文件。 |
| 其他 `.php` 文件 | 大量处理具体业务逻辑的 PHP 脚本，如 `login.php`、`chat.php`、`epayapi.php` 等。 |

## 5. 安装与部署

根据 `搭建教程.txt` 的说明，项目部署步骤如下：

1.  **上传源码**：将项目源码上传至服务器（推荐使用宝塔面板）。
2.  **PHP 环境配置**：
    *   安装 PHP 7.1 或更高版本。
    *   进入 PHP 7.1 的管理界面，修改配置文件。
    *   在第 477 行找到 `display_errors = on`，将其修改为 `display_errors = off`。
3.  **数据库配置**：
    *   创建 MySQL 数据库，数据库名为 `appdoc`，密码为 `123456`。
    *   导入 `搭建教程/appdoc.sql` 数据库文件。
    *   修改 `admin/iyu` 和 `admin/docking` 目录下的相关数据库连接配置（具体文件未明确，需根据实际代码查找）。
4.  **伪静态设置**：
    *   根据服务器类型（Apache/Nginx）配置伪静态规则。
    *   `伪静态.txt` 中提供了示例规则：
        ```
        rewrite /passprotect556 404.html break;
        rewrite /keyprotect556 404.html break;
        ```

## 6. 核心接口示例

项目提供了一些关键的 API 接口，以下是 `搭建教程.txt` 中列出的示例：

### 6.1 生成卡密接口

用于批量生成会员卡密或余额卡密。

-   **URL 格式**：`后台链接/appdoc_vip_add.php?pass1=zxcv25&num=卡密生成的数量&time=卡密时间单位:秒&type=卡密类型`
-   **参数说明**：
    *   `pass1`：安全验证密码，示例中为 `zxcv25`。
    *   `num`：要生成的卡密数量。
    *   `time`：卡密的有效时间，单位为秒（例如 `86400` 表示 1 天）。
    *   `type`：卡密类型，可选值为 `vip`（会员卡密）或 `money`（余额卡密）。
-   **示例**：`http://baidu.com/appdoc_vip_add.php?pass1=zxcv25&num=10&time=86400&type=vip`
-   **返回**：访问后会返回对应的卡密信息，一行一个，生成后请务必保存。

### 6.2 添加文档数量接口

用于为指定用户添加文档数量。

-   **URL 格式**：`后台链接/fileadmin-admin.php?pass=zxcv25&num=给予的数量&admin=用户名`
-   **参数说明**：
    *   `pass`：安全验证密码，示例中为 `zxcv25`。
    *   `num`：要给予的文档数量。
    *   `admin`：目标用户的用户名。
-   **返回**：访问链接后返回操作结果。

### 6.3 添加用户余额接口

用于为指定用户添加余额。

-   **URL 格式**：`后台链接/moneyadd-admin.php?pass=zxcv25&num=给予的余额&admin=用户名`
-   **参数说明**：
    *   `pass`：安全验证密码，示例中为 `zxcv25`。
    *   `num`：要给予的余额数量。
    *   `admin`：目标用户的用户名。
-   **返回**：访问链接后返回操作结果。

## 7. 注意事项

-   项目中的数据库连接信息和安全验证密码（如 `zxcv25`）应在部署后立即修改，以确保系统安全。
-   `admin/iyu` 和 `admin/docking` 目录下的具体文件需要手动查找并修改数据库连接信息。
-   伪静态规则的配置对项目的正常运行至关重要。

---

**作者**：童年
**日期**：2026年2月7日